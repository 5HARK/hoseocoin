<!--
     Generated template for the TxListPage page.

     See http://ionicframework.com/docs/components/#navigation for more info on
     Ionic pages and navigation.
   -->
<ion-header>

  <ion-navbar>
    <ion-title><ion-icon name="md-finger-print"></ion-icon> Hoseocoin</ion-title>
  </ion-navbar>

</ion-header>

<ion-content padding>
  <ion-refresher (ionRefresh)="doRefresh($event)" >
    <ion-refresher-content
	pullingText="당기면 새로고침"
	refreshingText="새로고침중..." >
    </ion-refresher-content>
  </ion-refresher>
  <div class="search-box">
    <form [formGroup]="txlist_form">
      <ion-list inset>
	<ion-item>
	  <ion-label>조회할 학번</ion-label>
	  <ion-input type="text" formControlName="who"></ion-input>
	</ion-item>
      </ion-list>
      <button ion-button class="submit-btn" full type="submit" [disabled]="!txlist_form.valid" (click)="submit()" >확인</button>
    </form>
  </div>

  <ion-list *ngFor="let tx of view_txs" >
    <ion-list-header>
      <div class="tx-header" >{{ tx.payload.createdTime }}</div>
    </ion-list-header>
    <ion-item *ngFor="let cmd of tx.payload.commandsList">
      <h1>{{ cmd.key }}</h1>
      <div *ngFor="let row of cmd.value">
	<span *ngIf="row.key == 'srcAccountId'"><h3><b>송금인 </b>{{ row.value }}</h3></span>
	<span *ngIf="row.key == 'destAccountId'"><h3><b>수취인 </b>{{ row.value }}</h3></span>
	<span *ngIf="row.key == 'accountId'"><h3><b>생성자 </b>{{ row.value }}</h3></span>
	<span *ngIf="row.key == 'amount'"><h3><b>금액 </b>{{ row.value }} HSC</h3></span>
	<p *ngIf="row.key == 'description'">{{ row.value }}</p>
      </div>
      <p><a (click)="txDescription(tx)">트랜잭션 자세히 보기</a></p>
    </ion-item>
  </ion-list>
  <!-- <ion-list>
       <ion-list-header>
       <div class="tx-header">2018-06-07 15:21</div>
       </ion-list-header>

       <ion-item>
       <h1>이체</h1>
       <h3><b>송금인</b> 20121743</h3>
       <h3><b>수취인</b> 20131743</h3>
       <h3><b>금액</b> 30,000 HTC</h3>
       <p>어제 먹은 짱깨값</p>
       <p><a>트랜잭션 자세히 보기</a></p>
       </ion-item>
       <ion-item>
       <h1>이체</h1>
       <h3><b>송금인</b> 20121743</h3>
       <h3><b>수취인</b> 20131743</h3>
       <h3><b>금액</b> 30,000 HTC</h3>
       <p><a>트랜잭션 자세히 보기</a></p>
       </ion-item>
       <ion-item>
       <h1>이체</h1>
       <h3><b>송금인</b> 20121743</h3>
       <h3><b>수취인</b> 20131743</h3>
       <h3><b>금액</b> 30,000 HTC</h3>
       <p><a>트랜잭션 자세히 보기</a></p>
       </ion-item>
       <ion-item>
       <h1>이체</h1>
       <h3><b>송금인</b> 20121743</h3>
       <h3><b>수취인</b> 20131743</h3>
       <h3><b>금액</b> 30,000 HTC</h3>
       <p><a>트랜잭션 자세히 보기</a></p>
       </ion-item>
       </ion-list>

       <ion-list>
       <ion-list-header>
       Online
       </ion-list-header>

       <ion-item>
       <ion-avatar item-start>
       <img src="assets/img/avatar-poe.png">
       </ion-avatar>
       <h2>Poe</h2>
       <h3>New Ride</h3>
       <p>I just upgraded my X-Wing. Next time...</p>
       </ion-item>

       <ion-item>
       <ion-avatar item-start>
       <img src="assets/img/avatar-ben.png">
       </ion-avatar>
       <h2>Ben</h2>
       <h3>Move Along</h3>
       <p>These aren't the droids you're looking for...</p>
       </ion-item>

       <ion-item>
       <ion-avatar item-start>
       <img src="assets/img/avatar-leia.png">
       </ion-avatar>
       <h2>Leia</h2>
       <h3>You're My Only Hope</h3>
       <p>I've placed information vital to the survival...</p>
       </ion-item>

       <ion-item>
       <ion-avatar item-start>
       <img src="assets/img/avatar-yoda.png">
       </ion-avatar>
       <h2>Yoda</h2>
       <h3>Size matters not</h3>
       <p>Do or do not. There is no try...</p>
       </ion-item>
       </ion-list> -->
    <!-- </ion-scroll> -->
</ion-content>
